///////////////////////////////////////////////////////////
//  Sgmpro.cs
//  Implementation of the Class Sgmpro
//  Generated by Enterprise Architect
//  Created on:      13-abr-2009 17:23:42
//  Original author: Fito
///////////////////////////////////////////////////////////
using System;
using scioToolLibrary;
using scioToolLibrary.enums;

namespace sgmpro {
    /// <summary>
    /// Esta clase es el 'punto de entrada', dentro del 'proto-framework'
    /// creado en SCIO, de una aplicación, en este caso SGMPro. Contiene 
    /// el método Main() que inicia y lanza la primer función del sistema 
    /// (iniciar el mismo). Esta clase acepta, al llamarse, un parámetro 
    /// de línea de comando que identifique el nivel de ejecución deseado 
    /// en la instancia del sistema.
    /// </summary>
    public sealed class Sgmpro {
        /// <summary>
        /// En el 'proto-framework' utilizado por SCIO, este método main() aplica la 
        /// llamada a la primer unidad de funcionalidad del diseño (iniciar sistema) 
        /// Si no viene un argumento extra de linea de comando se asume 'INFORMACION' 
        /// como nivel de ejecución deseado y se lo pasa al caso de uso. Este método 
        /// actualmente no captura ninguna excepción (!si llega hasta aquí es porque 
        /// hay que terminar!).
        /// </summary>
        /// <param name="args">
        /// Argumento que indicaría el nivel de ejecución deseado, el cual establece 
        /// entre otras cosas qué tipo de mensajes se logean efectivamente (por ejem. 
        /// si se ejecuta la app con un nivel de 'ERROR', entonces no se logearan los 
        /// mensajes 'DEBUG' e 'INFORMACION', sino de 'ERROR' para arriba). El nivel 
        /// de ejecución debe ser una cadena coincidente con valores definidos en la 
        /// enumeración enums.ENivelMensaje (la que además establece el órden de los 
        /// valores).
        /// </param>
        [STAThread]
        public static void Main(string[] args) {
            // Establece el manejador de mensajes específico
            Mensaje.Helper = new SgmproMensaje(); 

            // Verifica el parámetro de "nivel de ejecución"            
            ENivelMensaje nivel = (args.Length != 1)
                                      ? ENivelMensaje.INFORMACION
                                      : Mensaje.DecodeNivelMensaje(args[0]);

            // Luego hacer lo que debería (por lo pronto iniciar el sistema)
            SgmproSistema.Controlador.iniciarSistema(nivel, null, null, null, null);
        }
    }
}